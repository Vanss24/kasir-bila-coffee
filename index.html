<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bila Coffee • Dashboard Kasir & Checkout</title>
    <style>
      :root {
        color-scheme: light;
        --bg: #f7efe5;
        --surface: #ffffff;
        --surface-muted: #fff7f0;
        --brand: #b87446;
        --brand-dark: #8c5731;
        --brand-light: #f1ccb0;
        --text: #3a281a;
        --muted: #6d5240;
        --border: rgba(92, 70, 54, 0.18);
        --shadow: 0 20px 45px rgba(62, 44, 32, 0.12);
        --radius-lg: 28px;
        --radius-md: 18px;
        font-family: "DM Sans", "Segoe UI", system-ui, sans-serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
      }

      a {
        color: inherit;
      }

      header.site-header {
        position: sticky;
        top: 0;
        z-index: 20;
        background: rgba(247, 239, 229, 0.92);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(92, 70, 54, 0.16);
      }

      .nav-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px 24px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .brand {
        font-size: 18px;
        letter-spacing: 0.4em;
        text-transform: uppercase;
        font-weight: 600;
      }

      nav {
        display: flex;
        gap: 20px;
        font-size: 14px;
      }

      nav a {
        text-decoration: none;
        color: var(--muted);
        transition: color 200ms ease;
      }

      nav a:hover {
        color: var(--text);
      }

      section.hero {
        position: relative;
        min-height: 72vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 120px 24px 80px;
        overflow: hidden;
      }

      section.hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
            120deg,
            rgba(247, 239, 229, 0.96),
            rgba(247, 239, 229, 0.78)
          ),
          url("https://images.unsplash.com/photo-1642315160505-b3dff3a3c8b9?auto=format&fit=crop&w=1600&q=80")
            center / cover;
        z-index: -1;
      }

      .hero-content {
        max-width: 640px;
        margin: 0 auto;
        text-align: center;
      }

      .tagline {
        display: inline-flex;
        padding: 8px 18px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.8);
        letter-spacing: 0.35em;
        text-transform: uppercase;
        font-size: 12px;
        font-weight: 600;
        color: var(--brand);
      }

      .hero h1 {
        font-size: clamp(36px, 5vw, 56px);
        margin: 24px 0 16px;
        line-height: 1.05;
      }

      .hero p {
        font-size: 16px;
        color: var(--muted);
        margin-bottom: 32px;
      }

      .cta-group {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
      }

      .cta-group a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 14px 28px;
        border-radius: 999px;
        font-weight: 600;
        font-size: 14px;
        text-decoration: none;
        transition: transform 200ms ease, box-shadow 200ms ease;
      }

      .cta-primary {
        background: var(--brand);
        color: #fff;
        box-shadow: 0 16px 30px rgba(96, 59, 32, 0.18);
      }

      .cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 38px rgba(96, 59, 32, 0.24);
      }

      .cta-secondary {
        border: 1px solid rgba(184, 116, 70, 0.4);
        background: rgba(255, 255, 255, 0.85);
        color: var(--text);
      }

      main {
        display: flex;
        flex-direction: column;
        gap: 120px;
      }

      .section {
        padding: 0 24px;
      }

      .section h2 {
        text-align: center;
        font-size: clamp(28px, 3.2vw, 38px);
        margin-bottom: 12px;
      }

      .section p.section-intro {
        max-width: 660px;
        margin: 0 auto 48px;
        text-align: center;
        color: var(--muted);
      }

      .menu-grid {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        gap: 24px;
      }

      .menu-card {
        background: rgba(255, 255, 255, 0.88);
        border-radius: var(--radius-lg);
        overflow: hidden;
        border: 1px solid rgba(203, 170, 143, 0.28);
        box-shadow: 0 16px 35px rgba(99, 68, 43, 0.08);
        display: flex;
        flex-direction: column;
      }

      .menu-card img {
        width: 100%;
        height: 220px;
        object-fit: cover;
      }

      .menu-card div {
        padding: 24px;
      }

      .menu-card h3 {
        margin: 0 0 8px;
        font-size: 20px;
      }

      .menu-card p {
        margin: 0 0 16px;
        color: var(--muted);
        font-size: 14px;
      }

      .menu-price {
        font-weight: 600;
        color: var(--brand);
      }

      .info-panels {
        max-width: 1100px;
        margin: 48px auto 0;
        display: grid;
        gap: 20px;
      }

      .info-panel {
        background: rgba(255, 255, 255, 0.9);
        border-radius: var(--radius-md);
        border: 1px solid rgba(203, 170, 143, 0.4);
        padding: 28px;
        text-align: left;
      }

      .info-panel h3 {
        margin: 0 0 10px;
        font-size: 16px;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: var(--brand);
      }

      .info-panel p {
        margin: 8px 0;
        color: var(--text);
      }

      .reservation {
        background: linear-gradient(135deg, #f4e2d1, #f7efe5);
        border-radius: var(--radius-lg);
        padding: 48px 32px;
        max-width: 820px;
        margin: 0 auto;
        text-align: center;
        border: 1px solid rgba(189, 146, 109, 0.35);
        box-shadow: 0 20px 45px rgba(99, 68, 43, 0.15);
      }

      .dashboard-section {
        padding: 96px 24px 60px;
        background: rgba(255, 255, 255, 0.6);
      }

      .dashboard-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 36px;
      }

      .dashboard-headline {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .dashboard-headline span {
        text-transform: uppercase;
        letter-spacing: 0.32em;
        font-size: 12px;
        font-weight: 600;
        color: var(--brand-dark);
      }

      .dashboard-headline h2 {
        margin: 0;
        font-size: clamp(28px, 3vw, 38px);
        color: var(--text);
      }

      .metrics-grid {
        display: grid;
        gap: 18px;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }

      .metric-card {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 24px;
        border: 1px solid rgba(203, 170, 143, 0.4);
        padding: 22px;
        box-shadow: 0 18px 40px rgba(63, 45, 31, 0.08);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .metric-card p {
        margin: 0;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.32em;
        color: rgba(96, 59, 32, 0.65);
      }

      .metric-card strong {
        font-size: 26px;
        font-weight: 600;
        color: var(--brand-dark);
      }

      .orders-panel {
        background: rgba(255, 255, 255, 0.92);
        border-radius: var(--radius-lg);
        border: 1px solid rgba(203, 170, 143, 0.4);
        box-shadow: 0 20px 60px rgba(63, 45, 31, 0.1);
        overflow: hidden;
      }

      .orders-panel header {
        padding: 26px 28px 20px;
        border-bottom: 1px solid rgba(203, 170, 143, 0.35);
      }

      .orders-panel header h3 {
        margin: 0;
        font-size: 22px;
        color: var(--text);
      }

      .orders-panel header p {
        margin: 6px 0 0;
        color: rgba(96, 59, 32, 0.7);
        font-size: 14px;
      }

      .orders-table {
        width: 100%;
        border-collapse: collapse;
      }

      .orders-table thead {
        background: rgba(248, 234, 220, 0.7);
        text-transform: uppercase;
        letter-spacing: 0.18em;
        font-size: 11px;
        color: rgba(96, 59, 32, 0.7);
      }

      .orders-table th,
      .orders-table td {
        padding: 16px 24px;
        border-bottom: 1px solid rgba(203, 170, 143, 0.25);
        text-align: left;
        vertical-align: top;
      }

      .orders-table tbody tr:last-child td {
        border-bottom: none;
      }

      .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 600;
        text-transform: capitalize;
      }

      .status-diproses {
        background: rgba(255, 197, 107, 0.24);
        color: #8c4a18;
      }

      .status-siap {
        background: rgba(114, 164, 255, 0.22);
        color: #204b85;
      }

      .status-selesai {
        background: rgba(126, 200, 149, 0.26);
        color: #2d6a3d;
      }

      .status-select {
        width: 100%;
        border-radius: 12px;
        border: 1px solid rgba(184, 116, 70, 0.35);
        padding: 10px;
        font-size: 13px;
        background: rgba(255, 255, 255, 0.92);
        color: var(--text);
      }

      .reservation .cta-group {
        justify-content: center;
      }

      footer.site-footer {
        margin-top: 80px;
        padding: 48px 24px;
        background: #2f2115;
        color: #f9f2ea;
        text-align: center;
      }

      footer.site-footer a {
        color: #e7c9ac;
        text-decoration: none;
      }

      .order-section {
        padding: 80px 24px;
        background: var(--surface-muted);
      }

      .order-shell {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.1fr) minmax(0, 0.9fr);
        gap: clamp(20px, 4vw, 32px);
      }

      .price-list-panel {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow);
        padding: clamp(24px, 4vw, 36px);
        display: flex;
        flex-direction: column;
        max-height: 85vh;
        overflow-y: auto;
      }

      .price-list-heading {
        text-transform: uppercase;
        letter-spacing: 0.3em;
        font-size: 12px;
        color: var(--muted);
        margin-bottom: 16px;
        position: sticky;
        top: 0;
        background: var(--surface);
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(184, 116, 70, 0.2);
        z-index: 2;
      }

      .price-category-section {
        margin-bottom: 24px;
      }

      .price-category-title {
        text-transform: uppercase;
        letter-spacing: 0.25em;
        font-size: 11px;
        font-weight: 600;
        color: var(--brand);
        margin-bottom: 12px;
        padding: 8px 12px;
        background: rgba(184, 116, 70, 0.1);
        border-radius: 12px;
      }

      .price-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        border-bottom: 1px dashed rgba(184, 116, 70, 0.15);
        transition: background 150ms ease;
      }

      .price-item:last-child {
        border-bottom: none;
      }

      .price-item:hover {
        background: rgba(184, 116, 70, 0.05);
      }

      .price-item-name {
        font-size: 14px;
        color: var(--text);
        font-weight: 500;
        flex: 1;
      }

      .price-item-price {
        font-size: 14px;
        font-weight: 600;
        color: var(--brand-dark);
        white-space: nowrap;
        margin-left: 12px;
      }

      .panel {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow);
        padding: clamp(24px, 4vw, 36px);
        display: flex;
        flex-direction: column;
      }

      .panel-heading {
        text-transform: uppercase;
        letter-spacing: 0.3em;
        font-size: 12px;
        color: var(--muted);
        margin-bottom: 16px;
      }

      .category-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: clamp(18px, 3vw, 24px);
      }

      .category-chip {
        border: 1px solid rgba(184, 116, 70, 0.4);
        border-radius: 999px;
        padding: 10px 18px;
        font-size: 13px;
        font-weight: 600;
        background: rgba(255, 255, 255, 0.9);
        color: var(--muted);
        cursor: pointer;
        transition: transform 200ms ease, box-shadow 200ms ease, color 200ms ease,
          background 200ms ease;
      }

      .category-chip:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 24px rgba(184, 116, 70, 0.18);
      }

      .category-chip.active {
        background: var(--brand);
        color: white;
        box-shadow: 0 16px 28px rgba(184, 116, 70, 0.24);
        border-color: transparent;
      }

      .search-bar {
        position: relative;
        margin-bottom: clamp(18px, 3vw, 24px);
      }

      .search-input {
        width: 100%;
        border-radius: 18px;
        border: 1px solid rgba(184, 116, 70, 0.35);
        padding: 14px 18px 14px 46px;
        font-size: 15px;
        background: rgba(255, 255, 255, 0.92);
        color: var(--text);
        transition: border-color 200ms ease, box-shadow 200ms ease;
      }

      .search-input::placeholder {
        color: rgba(109, 82, 64, 0.6);
      }

      .search-input:focus {
        outline: none;
        border-color: rgba(184, 116, 70, 0.65);
        box-shadow: 0 0 0 4px rgba(184, 116, 70, 0.18);
      }

      .search-icon {
        position: absolute;
        top: 50%;
        left: 18px;
        transform: translateY(-50%);
        width: 18px;
        height: 18px;
        opacity: 0.6;
        pointer-events: none;
      }

      .clear-search {
        position: absolute;
        top: 50%;
        right: 18px;
        transform: translateY(-50%);
        border: none;
        background: none;
        color: rgba(109, 82, 64, 0.6);
        font-size: 13px;
        cursor: pointer;
        display: none;
      }

      .clear-search.show {
        display: inline;
      }

      .product-grid {
        display: grid;
        gap: clamp(18px, 3vw, 24px);
      }

      .product-card {
        position: relative;
        background: rgba(255, 255, 255, 0.92);
        border-radius: var(--radius-md);
        border: 1px solid transparent;
        overflow: hidden;
        display: grid;
        grid-template-columns: 120px minmax(0, 1fr) auto;
        gap: 18px;
        align-items: center;
        padding: 18px 24px;
        cursor: pointer;
        transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
        animation: fadeInUp 320ms ease both;
      }

      .product-thumbnail {
        width: 120px;
        height: 120px;
        border-radius: 18px;
        object-fit: cover;
        box-shadow: 0 12px 24px rgba(62, 44, 32, 0.18);
      }

      .product-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 18px 32px rgba(74, 52, 35, 0.16);
      }

      .product-card.selected {
        border-color: rgba(184, 116, 70, 0.6);
        box-shadow: 0 24px 42px rgba(184, 116, 70, 0.22);
      }

      .product-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(184, 116, 70, 0.18), rgba(184, 116, 70, 0));
        opacity: 0;
        transition: opacity 200ms ease;
      }

      .product-card.selected::before {
        opacity: 1;
      }

      .product-info {
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 6px;
        padding-right: 24px;
      }

      .product-info::after {
        content: "";
        position: absolute;
        inset: -18px -18px -18px auto;
        width: 1px;
        background: rgba(184, 116, 70, 0.16);
      }

      .product-title {
        font-size: 18px;
        font-weight: 600;
      }

      .product-desc {
        font-size: 14px;
        color: var(--muted);
      }

      .product-price {
        font-size: 16px;
        font-weight: 600;
        color: var(--brand-dark);
      }

      .product-badge {
        position: absolute;
        top: 18px;
        right: 18px;
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        background: rgba(255, 255, 255, 0.82);
        color: var(--brand-dark);
        border: 1px solid rgba(184, 116, 70, 0.4);
        pointer-events: none;
        transition: background 200ms ease, color 200ms ease;
      }

      .product-actions {
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .product-actions .action-btn {
        min-width: 120px;
      }

      .action-btn {
        border: none;
        border-radius: 999px;
        padding: 10px 18px;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: transform 200ms ease, box-shadow 200ms ease;
      }

      .action-btn.primary {
        background: var(--brand);
        color: white;
        box-shadow: 0 14px 24px rgba(184, 116, 70, 0.28);
      }

      .action-btn.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 30px rgba(184, 116, 70, 0.32);
      }

      .action-btn.ghost {
        background: rgba(184, 116, 70, 0.12);
        color: var(--brand-dark);
      }

      .cart-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .cart-empty {
        border-radius: var(--radius-md);
        border: 1px dashed rgba(184, 116, 70, 0.4);
        padding: 28px;
        text-align: center;
        background: rgba(255, 255, 255, 0.6);
        color: var(--muted);
      }

      .cart-item {
        background: rgba(255, 255, 255, 0.8);
        border-radius: var(--radius-md);
        border: 1px solid rgba(184, 116, 70, 0.25);
        padding: 18px 20px;
        display: grid;
        gap: 10px;
      }

      .cart-item-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .cart-item-info {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        min-width: 0;
      }

      .mini-thumb {
        width: 52px;
        height: 52px;
        border-radius: 14px;
        object-fit: cover;
        flex-shrink: 0;
        box-shadow: 0 12px 20px rgba(62, 44, 32, 0.14);
      }

      .cart-item-title {
        font-weight: 600;
        font-size: 16px;
      }

      .cart-item-price {
        font-weight: 600;
        color: var(--brand-dark);
      }

      .cart-item-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: var(--muted);
        font-size: 13px;
      }

      .remove-btn {
        border: none;
        background: none;
        font-size: 13px;
        color: #ad4137;
        text-decoration: underline;
        cursor: pointer;
      }

      .summary-panel {
        margin-top: auto;
        padding-top: 24px;
        border-top: 1px solid rgba(184, 116, 70, 0.2);
        display: grid;
        gap: 16px;
      }

      .customer-name-label,
      .order-notes-label {
        text-transform: uppercase;
        letter-spacing: 0.18em;
        font-size: 12px;
        font-weight: 600;
        color: var(--muted);
      }

      .customer-name-input,
      .order-notes-input {
        border: 1px solid rgba(184, 116, 70, 0.35);
        border-radius: 14px;
        padding: 12px 16px;
        font-size: 14px;
        transition: border-color 200ms ease, box-shadow 200ms ease;
      }

      .order-notes-input {
        min-height: 90px;
        resize: vertical;
      }

      .customer-name-input:focus,
      .order-notes-input:focus {
        outline: none;
        border-color: rgba(184, 116, 70, 0.65);
        box-shadow: 0 0 0 3px rgba(184, 116, 70, 0.18);
      }

      .customer-name-input.input-error {
        border-color: #ad4137;
        box-shadow: 0 0 0 3px rgba(173, 65, 55, 0.22);
      }

      .form-helper {
        font-size: 12px;
        color: rgba(109, 82, 64, 0.72);
      }

      .total-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 18px;
        font-weight: 600;
      }

      .checkout-btn {
        padding: 16px;
        border-radius: 18px;
        border: none;
        font-size: 15px;
        font-weight: 600;
        background: var(--brand);
        color: white;
        cursor: pointer;
        box-shadow: 0 20px 28px rgba(184, 116, 70, 0.3);
        transition: transform 200ms ease, box-shadow 200ms ease;
      }

      .checkout-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 24px 40px rgba(184, 116, 70, 0.35);
      }

      .checkout-btn:disabled {
        cursor: not-allowed;
        opacity: 0.6;
        box-shadow: none;
        transform: none;
      }

      .toast {
        position: fixed;
        bottom: 24px;
        right: 24px;
        background: rgba(58, 40, 26, 0.92);
        color: white;
        padding: 16px 22px;
        border-radius: 16px;
        font-size: 14px;
        opacity: 0;
        transform: translateY(12px);
        pointer-events: none;
        transition: opacity 200ms ease, transform 200ms ease;
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulseCard {
        0% {
          transform: scale(1);
        }
        40% {
          transform: scale(1.03);
        }
        100% {
          transform: scale(1);
        }
      }

      @media (max-width: 1200px) {
        .order-shell {
          grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
        }

        .price-list-panel {
          display: none;
        }
      }

      @media (max-width: 1024px) {
        .order-shell {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 960px) {
        nav {
          display: none;
        }

        section.hero {
          padding: 100px 20px 64px;
        }

        .menu-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      @media (max-width: 640px) {
        .menu-grid {
          grid-template-columns: 1fr;
        }

        .product-card {
          grid-template-columns: 1fr;
          text-align: left;
        }

        .product-thumbnail {
          width: 100%;
          height: 220px;
        }

        .product-info::after {
          display: none;
        }

        .product-actions {
          flex-direction: row;
          justify-content: flex-start;
        }

        .product-actions .action-btn {
          flex: 1;
          min-width: auto;
        }

        .order-shell {
          padding: 0;
        }

        .toast {
          left: 50%;
          right: auto;
          transform: translate(-50%, 16px);
        }

        .toast.show {
          transform: translate(-50%, 0);
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="nav-inner">
        <span class="brand">Bila Coffee</span>
        <nav>
          <a href="#beranda">Beranda</a>
          <a href="#menu">Menu</a>
          <a href="#produk">Produk</a>
          <a href="#info">Info</a>
          <a href="#reservasi">Reservasi</a>
          <a href="#dashboard">Dashboard</a>
          <a href="#order">Pemesanan</a>
        </nav>
      </div>
    </header>

    <main>
      <section id="beranda" class="hero">
        <div class="hero-content">
          <span class="tagline">kopi & cerita</span>
          <h1>Bila menyapa di setiap cangkir</h1>
          <p>
            Rasakan racikan kopi nusantara yang diseduh langsung oleh barista kami.
            Anda bisa memesan otomatis, ambil sendiri, atau nikmati di meja favorit.
          </p>
          <div class="cta-group">
            <a class="cta-primary" href="#order">Mulai Pesan</a>
            <a class="cta-secondary" href="#dashboard">Dashboard Kasir</a>
            <a class="cta-secondary" href="#about">Tentang Bila</a>
            <a class="cta-secondary" href="#gallery">Galeri</a>
          </div>
        </div>
      </section>

      <section id="about" class="section" style="padding-top: 96px; padding-bottom: 96px;">
        <h2>Tentang Bila</h2>
        <p class="section-intro">
          Bila Coffee meracik kopi dengan pendekatan slow bar yang mengutamakan kualitas biji nusantara, servis ramah, dan suasana homey agar setiap kunjungan terasa seperti pulang.
        </p>
      </section>

      <section id="menu" class="section">
        <h2>Menu Favorit</h2>
        <p class="section-intro">
          Dipilih langsung dari biji terbaik nusantara, setiap cangkir disajikan dengan rasa seimbang untuk menemani obrolan hangat Anda.
        </p>
        <div class="menu-grid">
          <article class="menu-card">
            <img src="https://images.unsplash.com/photo-1541167760496-1628856ab772?auto=format&fit=crop&w=1080&q=80" alt="Segelas kopi susu aren" />
            <div>
              <h3>Kopi Susu Aren</h3>
              <p>Espresso house blend dengan gula aren cair dan susu segar.</p>
              <span class="menu-price">Rp28.000</span>
            </div>
          </article>
          <article class="menu-card">
            <img src="https://images.unsplash.com/photo-1671038988310-083c9d0942b1?auto=format&fit=crop&w=1080&q=80" alt="Manual brew single origin" />
            <div>
              <h3>Manual Brew Flores</h3>
              <p>Pour-over single origin dengan aroma karamel dan aftertaste cokelat.</p>
              <span class="menu-price">Rp32.000</span>
            </div>
          </article>
          <article class="menu-card">
            <img src="https://images.unsplash.com/photo-1560472355-536de3962603?auto=format&fit=crop&w=1080&q=80" alt="Cold brew citrus" />
            <div>
              <h3>Cold Brew Citrus</h3>
              <p>Kopi dingin dengan infused jeruk sunkist, segar dan ringan.</p>
              <span class="menu-price">Rp30.000</span>
            </div>
          </article>
        </div>
      </section>

      <section id="produk" class="section" style="background: rgba(255, 255, 255, 0.7); padding-top: 96px; padding-bottom: 96px;">
        <h2>Produk Andalan</h2>
        <p class="section-intro">
          Pilihan minuman dan pastry yang paling sering dipesan pelanggan setia kami. Semua dapat langsung dimasukkan ke keranjang kasir.
        </p>
        <div class="menu-grid" id="featured-products"></div>
      </section>

      <section id="gallery" class="section" style="padding-top: 96px; padding-bottom: 96px;">
        <h2>Galeri Ruang</h2>
        <p class="section-intro">
          Intip sudut-sudut favorit pelanggan kami—from barista counter, sofa hangout, sampai teras senja yang paling fotogenik.
        </p>
        <div class="menu-grid" style="grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));">
          <figure class="menu-card" style="padding:0;">
            <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1200&q=80" alt="Suasana barista counter dengan mesin espresso" />
          </figure>
          <figure class="menu-card" style="padding:0;">
            <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?auto=format&fit=crop&w=1200&q=80" alt="Area lounge dengan sofa kulit dan meja kayu" />
          </figure>
          <figure class="menu-card" style="padding:0;">
            <img src="https://images.unsplash.com/photo-1523362628745-0c100150b504?auto=format&fit=crop&w=1200&q=80" alt="Teras outdoor dengan tanaman hijau dan cahaya sore" />
          </figure>
        </div>
      </section>

      <section id="info" class="section">
        <h2>Hangat Setiap Hari</h2>
        <p class="section-intro">
          Ruang nyaman untuk pekerja remote, komunitas kreatif, hingga Anda yang ingin me-time ditemani racikan kopi hangat.
        </p>
        <div class="info-panels">
          <div class="info-panel">
            <h3>Jam buka</h3>
            <p>Senin – Minggu</p>
            <p>08.00 – 22.00</p>
          </div>
          <div class="info-panel">
            <h3>Alamat</h3>
            <p>Jl. Matahari Tanjung Ngablak</p>
            <p>Kabupaten Kediri</p>
          </div>
          <div class="info-panel">
            <h3>Reservasi</h3>
            <p>+62 895-7028-92800 (WhatsApp)</p>
            <p>Khusus grup 6 orang, hubungi minimal H-1.</p>
          </div>
        </div>
      </section>

      <section id="reservasi" class="section">
        <div class="reservation">
          <h2>Pesan Meja Favoritmu</h2>
          <p>
            Ingin merayakan momen kecil, rapat santai, atau sekadar menikmati senja? Kami siap membantu. Hubungi kami dan pilih spot favoritmu.
          </p>
          <div class="cta-group">
            <a class="cta-primary" href="https://wa.me/62895702892800" target="_blank" rel="noreferrer">Chat WhatsApp</a>
            <a class="cta-secondary" href="tel:+62895702892800">Telepon Langsung</a>
          </div>
        </div>
      </section>

      <section id="dashboard" class="dashboard-section">
        <div class="dashboard-container">
          <div class="dashboard-headline">
            <span>dashboard kasir</span>
            <h2>Monitor antrian dan penjualan harian</h2>
          </div>

          <div class="metrics-grid">
            <article class="metric-card">
              <p>Pesanan Masuk</p>
              <strong id="metric-orders">0</strong>
            </article>
            <article class="metric-card">
              <p>Diproses</p>
              <strong id="metric-processing">0</strong>
            </article>
            <article class="metric-card">
              <p>Siap diambil</p>
              <strong id="metric-ready">0</strong>
            </article>
            <article class="metric-card">
              <p>Penjualan Hari Ini</p>
              <strong id="metric-sales">Rp0</strong>
            </article>
          </div>

          <div class="orders-panel">
            <header>
              <h3>Daftar Pesanan</h3>
              <p>Kelola status pesanan dan pastikan pelanggan menerima minuman tepat waktu.</p>
            </header>
            <div style="overflow-x: auto;">
              <table class="orders-table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Pelanggan</th>
                    <th>Menu</th>
                    <th>Total</th>
                    <th>Tanggal</th>
                    <th>Status</th>
                    <th>Ubah Status</th>
                  </tr>
                </thead>
                <tbody id="orders-body">
                  <tr>
                    <td colspan="7" style="text-align: center; padding: 32px; color: rgba(96, 59, 32, 0.6);">
                      Belum ada pesanan masuk hari ini.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <section id="order" class="order-section">
        <div class="order-shell">
          <aside class="price-list-panel" aria-labelledby="price-list-heading">
            <p id="price-list-heading" class="price-list-heading">Daftar Harga Menu</p>
            <div id="price-list-container"></div>
          </aside>

          <main class="panel" aria-labelledby="product-heading">
            <p id="product-heading" class="panel-heading">Pilih Menu</p>
            <div class="category-bar" id="category-bar"></div>
            <div class="search-bar">
              <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
                <circle cx="11" cy="11" r="7" />
                <line x1="16.65" y1="16.65" x2="21" y2="21" />
              </svg>
              <input
                type="search"
                id="search-input"
                class="search-input"
                placeholder="Cari menu atau bahan..."
                autocomplete="off"
              />
              <button type="button" id="clear-search" class="clear-search">Reset</button>
            </div>
            <div class="product-grid" id="product-list"></div>
          </main>

          <aside class="panel" aria-labelledby="order-heading">
            <p id="order-heading" class="panel-heading">Pesanan Aktif</p>
            <div class="cart-list" id="cart-list">
              <div class="cart-empty" id="empty-state">
                Belum ada pesanan. Pilih menu di sebelah kiri untuk memulai.
              </div>
            </div>
            <div class="summary-panel" id="summary-panel" aria-live="polite">
              <label class="customer-name-label" for="customer-name">Nama Pemesan</label>
              <input
                type="text"
                class="customer-name-input"
                id="customer-name"
                placeholder="Contoh: Aulia"
                autocomplete="name"
                aria-describedby="name-helper"
              />
              <span id="name-helper" class="form-helper">Nama ini akan muncul di pesan WhatsApp dan struk.</span>

              <label class="order-notes-label" for="order-notes">Catatan untuk barista</label>
              <textarea
                id="order-notes"
                class="order-notes-input"
                placeholder="Contoh: Kurangi gula, ambil jam 16.30"
              ></textarea>

              <div class="total-row">
                <span>Total</span>
                <span id="total-price">Rp0</span>
              </div>
              <button type="button" class="checkout-btn" id="checkout-btn">
                Kirim ke WhatsApp & Cetak Struk
              </button>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <p>Bila Coffee</p>
      <p>Jl. Matahari Tanjung Ngablak, Kediri</p>
      <p>
        Temukan kami di
        <a href="https://instagram.com" target="_blank" rel="noreferrer">Instagram</a>
        •
        <a href="https://www.tiktok.com" target="_blank" rel="noreferrer">TikTok</a>
      </p>
      <p>&copy; <span id="year"></span> Bila Coffee House</p>
    </footer>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <script>
      const featuredProducts = [
        {
          id: "featured-1",
          name: "Honeycomb Latte",
          description: "Espresso silky dengan busa susu dan crumble honeycomb renyah.",
          price: 36000,
          image: "https://m.media-amazon.com/images/I/7175QNUU9qS._AC_UF894,1000_QL80_.jpg"
        },
        {
          id: "featured-2",
          name: "Creamy Iced Coffee",
          description: "Kopi susu dingin dengan whipped cream vanilla premium.",
          price: 34000,
          image: "https://www.sugarsalted.com/wp-content/uploads/2024/06/ice-cream-iced-coffee-whipped-cream-0081.jpg"
        },
        {
          id: "featured-3",
          name: "Matcha Velvet",
          description: "Matcha Kyoto blend dengan susu almond dan madu raw.",
          price: 38000,
          image: "https://130529051.cdn6.editmysite.com/uploads/1/3/0/5/130529051/GUW7HZJZNO5FAI2G6XQE6XJB.jpeg"
        },
        {
          id: "featured-4",
          name: "Croissant Almond",
          description: "Croissant butter flaky berisi krim almond panggang.",
          price: 27000,
          image: "https://www.womanscribbles.net/wp-content/uploads/2023/06/how-to-make-croissant-dough-4.jpg"
        },
        {
          id: "featured-5",
          name: "Salted Caramel Affogato",
          description: "Gelato vanilla disiram espresso panas dan salted caramel crunch.",
          price: 37000,
          image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=1080&q=80"
        },
        {
          id: "featured-6",
          name: "Berry Kombucha Spritz",
          description: "Kombucha markisa dan berries dengan soda dingin dan jeruk nipis.",
          price: 33000,
          image: "https://images.unsplash.com/photo-1546173159-315724a3168d?auto=format&fit=crop&w=1080&q=80"
        }
      ];

      document.getElementById("year").textContent = new Date().getFullYear();

      const products = [
        {
          id: "prd-1",
          name: "Kopi Susu Aren",
          description: "Espresso house blend dengan gula aren cair dan susu segar.",
          price: 28000,
          category: "kopi",
          image: "https://public.youware.com/users-website-assets/prod/77bcc7f7-c567-486a-b188-62ed0b9efa8d/65a85a096a30412d8990121c6f33bdbf.jpg"
        },
        {
          id: "prd-2",
          name: "Manual Brew Flores",
          description: "Pour-over single origin Flores Bajawa floral dan cokelat.",
          price: 32000,
          category: "kopi",
          image: "https://public.youware.com/users-website-assets/prod/77bcc7f7-c567-486a-b188-62ed0b9efa8d/ac3873a2941a4de5a7a50322222a449c.jpg"
        },
        {
          id: "prd-3",
          name: "Cold Brew Citrus",
          description: "Kopi dingin infused jeruk sunkist yang menyegarkan.",
          price: 30000,
          category: "kopi",
          image: "https://public.youware.com/users-website-assets/prod/77bcc7f7-c567-486a-b188-62ed0b9efa8d/894eeb5fabf14fd6a98d4afe7c02957a.jpg"
        },
        {
          id: "prd-4",
          name: "Matcha Latte",
          description: "Matcha Kyoto premium dipadukan dengan susu oat lembut.",
          price: 32000,
          category: "non-kopi",
          image: "https://public.youware.com/users-website-assets/prod/77bcc7f7-c567-486a-b188-62ed0b9efa8d/a4f9a45b4cda4d5fa190963c764d7607.jpg"
        },
        {
          id: "prd-5",
          name: "Roti Bakar Kayu Manis",
          description: "Roti sourdough dengan olesan kayu manis dan gula palem.",
          price: 24000,
          category: "snack",
          image: "https://public.youware.com/users-website-assets/prod/77bcc7f7-c567-486a-b188-62ed0b9efa8d/c735e1dee2684e078e0470526968da02.jpg"
        },
        {
          id: "prd-6",
          name: "Croissant Almond",
          description: "Croissant butter flaky berisi krim almond panggang.",
          price: 26000,
          category: "snack",
          image: "https://images.unsplash.com/photo-1481671703460-040cb8a2d909?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-7",
          name: "Espresso Tonic",
          description: "Espresso single shot dengan tonic dan jeruk bali.",
          price: 34000,
          category: "signature",
          image: "https://images.unsplash.com/photo-1470337458703-46ad1756a187?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-8",
          name: "Cocoa Hazelnut",
          description: "Cokelat ganache, susu segar, dan sirup hazelnut panggang.",
          price: 29000,
          category: "non-kopi",
          image: "https://images.unsplash.com/photo-1453614512568-c4024d13c247?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-9",
          name: "Kopi Susu Rum Regal",
          description: "Kopi susu creamy dengan crumble regal dan sentuhan rum non-alkohol.",
          price: 36000,
          category: "kopi",
          image: "https://images.unsplash.com/photo-1559496417-e7f25cb247f3?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-10",
          name: "Black Forest Frappe",
          description: "Blended kopi cokelat, cherry compote, whipped cream, dan serutan dark chocolate.",
          price: 39000,
          category: "signature",
          image: "https://images.unsplash.com/photo-1555992336-cbf06676722a?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-11",
          name: "Jasmine Lychee Tea",
          description: "Teh melati dingin dengan buah leci segar dan selasih.",
          price: 28000,
          category: "non-kopi",
          image: "https://images.unsplash.com/photo-1527169402691-feff5539e52c?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-12",
          name: "Truffle Mushroom Toast",
          description: "Sourdough panggang dengan krim jamur truffle dan parmesan.",
          price: 45000,
          category: "snack",
          image: "https://images.unsplash.com/photo-1559294986-3cbeb0cefe1c?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-13",
          name: "Pandan Klepon Latte",
          description: "Latte pandan dengan gula aren cair dan taburan kelapa parut.",
          price: 34000,
          category: "signature",
          image: "https://images.unsplash.com/photo-1588632470386-2feed685b756?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-14",
          name: "Tiramisu Jar",
          description: "Dessert jar mascarpone, espresso, dan taburan kakao premium.",
          price: 42000,
          category: "snack",
          image: "https://images.unsplash.com/photo-1588841131353-6397ff7fd4a4?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-15",
          name: "Sunrise Kombucha",
          description: "Kombucha nanas, jahe muda, dan sirup markisa dingin.",
          price: 31000,
          category: "non-kopi",
          image: "https://images.unsplash.com/photo-1600271886830-4965e8893ba9?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-16",
          name: "Smoked Beef Quiche",
          description: "Quiche creamy dengan smoked beef, cheddar, dan daun bawang.",
          price: 36000,
          category: "snack",
          image: "https://images.unsplash.com/photo-1428895009712-de9e58a18409?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-17",
          name: "Rosemary Lemonade",
          description: "Signature lemonade dengan sirup rosemary dan madu hutan.",
          price: 27000,
          category: "non-kopi",
          image: "https://images.unsplash.com/photo-1577805947697-89e18249d767?auto=format&fit=crop&w=800&q=80"
        },
        {
          id: "prd-18",
          name: "Coconut Cold Foam",
          description: "Cold brew dengan coconut foam dan taburan gula kelapa caramelized.",
          price: 35000,
          category: "kopi",
          image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?auto=format&fit=crop&w=800&q=80"
        }
      ];

      const ADMIN_PHONE = "62895702892800";
      const STORAGE_CART_KEY = "bila-coffee-cart";
      const STORAGE_ORDER_KEY = "bila-coffee-orders";

      const rupiah = (value) =>
        new Intl.NumberFormat("id-ID", {
          style: "currency",
          currency: "IDR",
          minimumFractionDigits: 0
        }).format(value);

      const toastEl = document.getElementById("toast");
      const productListEl = document.getElementById("product-list");
      const categoryBarEl = document.getElementById("category-bar");
      const searchInputEl = document.getElementById("search-input");
      const clearSearchEl = document.getElementById("clear-search");
      const cartListEl = document.getElementById("cart-list");
      const emptyStateEl = document.getElementById("empty-state");
      const totalPriceEl = document.getElementById("total-price");
      const checkoutBtn = document.getElementById("checkout-btn");
      const customerNameInput = document.getElementById("customer-name");
      const orderNotesInput = document.getElementById("order-notes");
      const ordersBodyEl = document.getElementById("orders-body");
      const metricOrdersEl = document.getElementById("metric-orders");
      const metricProcessingEl = document.getElementById("metric-processing");
      const metricReadyEl = document.getElementById("metric-ready");
      const metricSalesEl = document.getElementById("metric-sales");

      const loadCartFromStorage = () => {
        try {
          const stored = localStorage.getItem(STORAGE_CART_KEY);
          if (!stored) return [];
          const parsed = JSON.parse(stored);
          if (!Array.isArray(parsed)) return [];
          return parsed.map((item) => ({
            ...item,
            estimatedReady: computeEstimate(item.quantity)
          }));
        } catch (error) {
          console.warn("Gagal memuat keranjang:", error);
          return [];
        }
      };

      const saveCartToStorage = (cart) => {
        try {
          const serializable = cart.map(({ id, product, quantity }) => ({
            id,
            product,
            quantity
          }));
          localStorage.setItem(STORAGE_CART_KEY, JSON.stringify(serializable));
        } catch (error) {
          console.warn("Gagal menyimpan keranjang:", error);
        }
      };

      const loadOrdersFromStorage = () => {
        try {
          const stored = localStorage.getItem(STORAGE_ORDER_KEY);
          if (!stored) return [];
          const parsed = JSON.parse(stored);
          if (!Array.isArray(parsed)) return [];
          return parsed;
        } catch (error) {
          console.warn("Gagal memuat pesanan:", error);
          return [];
        }
      };

      const saveOrdersToStorage = (orders) => {
        try {
          localStorage.setItem(STORAGE_ORDER_KEY, JSON.stringify(orders));
        } catch (error) {
          console.warn("Gagal menyimpan pesanan:", error);
        }
      };

      const state = {
        cart: loadCartFromStorage(),
        orders: loadOrdersFromStorage(),
        activeCategory: "semua",
        searchTerm: ""
      };

      function showToast(message) {
        toastEl.textContent = message;
        toastEl.classList.add("show");
        clearTimeout(showToast.timeoutId);
        showToast.timeoutId = setTimeout(() => {
          toastEl.classList.remove("show");
        }, 2200);
      }

      function getCategories() {
        const set = new Set(["semua"]);
        products.forEach((product) => set.add(product.category));
        return Array.from(set);
      }

      function renderCategories() {
        const categories = getCategories();
        const fragment = document.createDocumentFragment();

        categories.forEach((category) => {
          const chip = document.createElement("button");
          chip.type = "button";
          chip.className = "category-chip";
          chip.textContent =
            category === "semua"
              ? "SEMUA MENU"
              : category.replace(/-/g, " ").toUpperCase();

          if (category === state.activeCategory) {
            chip.classList.add("active");
          }

          chip.addEventListener("click", () => {
            state.activeCategory = category;
            renderCategories();
            renderProducts();
            showToast(
              category === "semua"
                ? "Menampilkan semua menu"
                : `Kategori ${category.replace(/-/g, " ")} dipilih`
            );
          });

          fragment.appendChild(chip);
        });

        categoryBarEl.innerHTML = "";
        categoryBarEl.appendChild(fragment);

        if (searchInputEl) {
          searchInputEl.value = state.searchTerm;
          clearSearchEl.classList.toggle("show", Boolean(state.searchTerm));
        }
      }

      function renderProducts() {
        const keyword = state.searchTerm.trim().toLowerCase();
        const filtered = products.filter((product) => {
          const matchCategory =
            state.activeCategory === "semua" || product.category === state.activeCategory;
          const matchKeyword =
            !keyword ||
            product.name.toLowerCase().includes(keyword) ||
            product.description.toLowerCase().includes(keyword);
          return matchCategory && matchKeyword;
        });

        if (!filtered.length) {
          const empty = document.createElement("div");
          empty.className = "cart-empty";
          empty.style.marginTop = "8px";
          empty.textContent = "Menu tidak ditemukan. Coba kata kunci lain.";
          productListEl.innerHTML = "";
          productListEl.appendChild(empty);
          return;
        }

        const fragment = document.createDocumentFragment();
        filtered.forEach((product, index) => {
          const card = document.createElement("article");
          card.className = "product-card";
          card.dataset.productId = product.id;
          card.dataset.category = product.category;
          card.style.animationDelay = `${index * 40}ms`;

          const thumbnail = document.createElement("img");
          thumbnail.className = "product-thumbnail";
          thumbnail.src = product.image;
          thumbnail.alt = `Foto ${product.name}`;

          const badge = document.createElement("span");
          badge.className = "product-badge";
          badge.textContent = product.category.replace(/-/g, " ");

          const info = document.createElement("div");
          info.className = "product-info";

          const title = document.createElement("h3");
          title.className = "product-title";
          title.textContent = product.name;

          const desc = document.createElement("p");
          desc.className = "product-desc";
          desc.textContent = product.description;

          const price = document.createElement("span");
          price.className = "product-price";
          price.textContent = rupiah(product.price);

          info.append(title, desc, price);

          const actions = document.createElement("div");
          actions.className = "product-actions";

          const addBtn = document.createElement("button");
          addBtn.type = "button";
          addBtn.className = "action-btn primary";
          addBtn.textContent = "Tambah";
          addBtn.addEventListener("click", (event) => {
            event.stopPropagation();
            addToCart(product);
            animateSelection(card);
          });

          const viewBtn = document.createElement("button");
          viewBtn.type = "button";
          viewBtn.className = "action-btn ghost";
          viewBtn.textContent = "Detail";
          viewBtn.addEventListener("click", (event) => {
            event.stopPropagation();
            showToast(`${product.name} · ${rupiah(product.price)}`);
          });

          actions.append(addBtn, viewBtn);

          card.append(thumbnail, info, actions, badge);

          card.addEventListener("click", () => {
            addToCart(product);
            animateSelection(card);
          });

          fragment.appendChild(card);
        });

        productListEl.innerHTML = "";
        productListEl.appendChild(fragment);
      }

      function animateSelection(card) {
        card.classList.add("selected");
        card.style.animation = "pulseCard 360ms ease";

        const badge = card.querySelector(".product-badge");
        if (badge) {
          badge.style.background = "var(--brand)";
          badge.style.color = "white";
        }

        setTimeout(() => {
          card.classList.remove("selected");
          card.style.animation = "";
          if (badge) {
            badge.style.background = "rgba(255, 255, 255, 0.82)";
            badge.style.color = "var(--brand-dark)";
          }
        }, 360);
      }

      function addToCart(product) {
        const existing = state.cart.find((item) => item.product.id === product.id);

        if (existing) {
          existing.quantity += 1;
          existing.estimatedReady = computeEstimate(existing.quantity);
        } else {
          state.cart.push({
            id: `cart-${product.id}-${Date.now()}`,
            product,
            quantity: 1,
            estimatedReady: computeEstimate(1)
          });
        }

        saveCartToStorage(state.cart);
        renderCart();
        showToast(`${product.name} ditambahkan ke pesanan`);
      }

      function computeEstimate(quantity) {
        const baseMinutes = 4;
        return `Siap dalam ±${baseMinutes + quantity * 2} menit`;
      }

      function removeFromCart(cartId, productName) {
        state.cart = state.cart.filter((item) => item.id !== cartId);
        saveCartToStorage(state.cart);
        renderCart();
        showToast(`${productName} dibatalkan dari pesanan`);
      }

      function renderCart() {
        const hasItems = state.cart.length > 0;
        emptyStateEl.style.display = hasItems ? "none" : "block";

        if (!hasItems) {
          cartListEl.innerHTML = "";
          cartListEl.appendChild(emptyStateEl);
          totalPriceEl.textContent = "Rp0";
          checkoutBtn.disabled = true;
          checkoutBtn.textContent = "Tambah menu dahulu";
          return;
        }

        checkoutBtn.disabled = false;
        checkoutBtn.textContent = "Kirim ke WhatsApp & Cetak Struk";

        const fragment = document.createDocumentFragment();
        let total = 0;

        state.cart.forEach((item) => {
          const row = document.createElement("article");
          row.className = "cart-item";

          const header = document.createElement("div");
          header.className = "cart-item-header";

          const title = document.createElement("span");
          title.className = "cart-item-title";
          title.textContent = `${item.quantity}× ${item.product.name}`;

          const thumb = document.createElement("img");
          thumb.className = "mini-thumb";
          thumb.src = item.product.image;
          thumb.alt = `Foto ${item.product.name}`;
          thumb.loading = "lazy";

          const infoWrap = document.createElement("div");
          infoWrap.className = "cart-item-info";
          infoWrap.append(thumb, title);

          const price = document.createElement("span");
          price.className = "cart-item-price";
          price.textContent = rupiah(item.product.price * item.quantity);

          header.append(infoWrap, price);

          const footer = document.createElement("div");
          footer.className = "cart-item-footer";

          const estimate = document.createElement("span");
          estimate.textContent = item.estimatedReady;

          const remove = document.createElement("button");
          remove.type = "button";
          remove.className = "remove-btn";
          remove.textContent = "Batalkan";
          remove.addEventListener("click", () => {
            removeFromCart(item.id, item.product.name);
          });

          footer.append(estimate, remove);

          row.append(header, footer);

          fragment.appendChild(row);

          total += item.product.price * item.quantity;
        });

        cartListEl.innerHTML = "";
        cartListEl.append(fragment);

        totalPriceEl.textContent = rupiah(total);
      }

      function formatDateTime(timestamp) {
        return new Date(timestamp).toLocaleString("id-ID", {
          dateStyle: "short",
          timeStyle: "short"
        });
      }

      function renderOrdersTable() {
        if (!state.orders.length) {
          ordersBodyEl.innerHTML = `
            <tr>
              <td colspan="7" style="text-align: center; padding: 32px; color: rgba(96, 59, 32, 0.6);">
                Belum ada pesanan masuk hari ini.
              </td>
            </tr>
          `;
          return;
        }

        const fragment = document.createDocumentFragment();
        state.orders
          .slice()
          .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
          .forEach((order, index) => {
            const row = document.createElement("tr");

            const statusClass = `status-${order.status}`;
            const itemsText = order.items
              .map((item) => `${item.quantity}× ${item.name}`)
              .join("<br />");

            row.innerHTML = `
              <td>${index + 1}</td>
              <td>
                <strong>${order.customerName}</strong><br />
                <span style="color: rgba(96, 59, 32, 0.6); font-size: 12px;">${order.notes || "Tanpa catatan"}</span>
              </td>
              <td style="font-size: 13px; color: rgba(96, 59, 32, 0.75);">${itemsText}</td>
              <td><strong>${rupiah(order.total)}</strong></td>
              <td>${formatDateTime(order.createdAt)}</td>
              <td>
                <span class="status-badge ${statusClass}">${order.status}</span>
              </td>
              <td>
                <select class="status-select" data-order-id="${order.id}">
                  <option value="diproses" ${order.status === "diproses" ? "selected" : ""}>Diproses</option>
                  <option value="siap" ${order.status === "siap" ? "selected" : ""}>Siap</option>
                  <option value="selesai" ${order.status === "selesai" ? "selected" : ""}>Selesai</option>
                </select>
              </td>
            `;

            fragment.appendChild(row);
          });

        ordersBodyEl.innerHTML = "";
        ordersBodyEl.append(fragment);
      }

      function isToday(dateString) {
        const given = new Date(dateString);
        const today = new Date();
        return (
          given.getDate() === today.getDate() &&
          given.getMonth() === today.getMonth() &&
          given.getFullYear() === today.getFullYear()
        );
      }

      function renderDashboardMetrics() {
        const totalOrders = state.orders.length;
        const processing = state.orders.filter((order) => order.status === "diproses").length;
        const ready = state.orders.filter((order) => order.status === "siap").length;
        const todaySales = state.orders
          .filter((order) => isToday(order.createdAt) && order.status === "selesai")
          .reduce((sum, order) => sum + order.total, 0);

        metricOrdersEl.textContent = totalOrders;
        metricProcessingEl.textContent = processing;
        metricReadyEl.textContent = ready;
        metricSalesEl.textContent = rupiah(todaySales);
      }

      function createOrder({ customerName, notes, items, total }) {
        return {
          id: `ord-${Date.now()}`,
          customerName,
          notes,
          items,
          total,
          status: "diproses",
          createdAt: new Date().toISOString()
        };
      }

      function openReceiptWindow(order) {
        const receiptWindow = window.open("", "_blank", "noopener,noreferrer,width=720,height=840");
        if (!receiptWindow) {
          showToast("Izinkan pop-up untuk menampilkan struk");
          return;
        }

        const rowsHtml = order.items
          .map(
            (item, index) => `
              <tr>
                <td>${index + 1}</td>
                <td>${item.name}</td>
                <td>${item.quantity}</td>
                <td>${rupiah(item.price)}</td>
                <td>${rupiah(item.price * item.quantity)}</td>
              </tr>
            `
          )
          .join("\n");

        const html = `
          <!DOCTYPE html>
          <html lang="id">
            <head>
              <meta charset="UTF-8" />
              <title>Struk Bila Coffee</title>
              <style>
                * { box-sizing: border-box; }
                body {
                  font-family: 'DM Sans', 'Segoe UI', system-ui, sans-serif;
                  margin: 0;
                  padding: 32px;
                  background: #f5efe6;
                  color: #2f2115;
                }
                .receipt {
                  max-width: 600px;
                  margin: 0 auto;
                  background: #ffffff;
                  border-radius: 18px;
                  padding: 32px;
                  box-shadow: 0 18px 45px rgba(63, 45, 31, 0.12);
                  border: 1px solid rgba(199, 164, 133, 0.35);
                }
                header {
                  text-align: center;
                  margin-bottom: 24px;
                }
                header h1 {
                  margin: 0;
                  font-size: 24px;
                  letter-spacing: 0.24em;
                  text-transform: uppercase;
                }
                header p {
                  margin: 8px 0 0;
                  color: rgba(63, 45, 31, 0.65);
                }
                .meta {
                  display: grid;
                  gap: 6px;
                  margin-bottom: 20px;
                  font-size: 13px;
                }
                table {
                  width: 100%;
                  border-collapse: collapse;
                  font-size: 14px;
                  margin-bottom: 18px;
                }
                th, td {
                  padding: 10px;
                  border-bottom: 1px solid rgba(199, 164, 133, 0.35);
                  text-align: left;
                }
                th {
                  background: rgba(248, 234, 220, 0.7);
                  text-transform: uppercase;
                  letter-spacing: 0.18em;
                  font-size: 12px;
                  color: rgba(63, 45, 31, 0.7);
                }
                .total {
                  text-align: right;
                  font-size: 18px;
                  font-weight: 600;
                  margin-top: 12px;
                }
                .notes {
                  margin-top: 16px;
                  padding: 12px;
                  border-radius: 12px;
                  background: rgba(184, 116, 70, 0.08);
                  color: rgba(63, 45, 31, 0.7);
                }
                .actions {
                  margin-top: 24px;
                  text-align: right;
                }
                button {
                  padding: 10px 18px;
                  border-radius: 999px;
                  border: none;
                  background: #b87446;
                  color: white;
                  font-weight: 600;
                  cursor: pointer;
                }
              </style>
            </head>
            <body>
              <div class="receipt">
                <header>
                  <h1>Bila Coffee</h1>
                  <p>Jl. Matahari Tanjung Ngablak, Kediri</p>
                </header>
                <div class="meta">
                  <span><strong>Nama:</strong> ${order.customerName}</span>
                  <span><strong>Waktu:</strong> ${formatDateTime(order.createdAt)}</span>
                  <span><strong>ID Pesanan:</strong> ${order.id}</span>
                </div>
                <table>
                  <thead>
                    <tr>
                      <th>No</th>
                      <th>Menu</th>
                      <th>Qty</th>
                      <th>Harga</th>
                      <th>Subtotal</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${rowsHtml}
                  </tbody>
                </table>
                <div class="total">Total: ${rupiah(order.total)}</div>
                ${order.notes ? `<div class="notes"><strong>Catatan:</strong> ${order.notes}</div>` : ""}
                <div class="actions">
                  <button onclick="window.print()">Cetak / Simpan PDF</button>
                </div>
              </div>
            </body>
          </html>
        `;

        receiptWindow.document.write(html);
        receiptWindow.document.close();
      }

      function handleCheckout() {
        if (!state.cart.length) {
          showToast("Tambahkan menu terlebih dahulu");
          return;
        }

        const customerName = customerNameInput.value.trim();
        if (!customerName) {
          customerNameInput.focus();
          customerNameInput.classList.add("input-error");
          showToast("Nama pemesan belum diisi");
          setTimeout(() => customerNameInput.classList.remove("input-error"), 1000);
          return;
        }

        const notes = orderNotesInput.value.trim();
        const items = state.cart.map((item) => ({
          id: item.product.id,
          name: item.product.name,
          quantity: item.quantity,
          price: item.product.price
        }));

        const rows = items
          .map(
            (item, index) =>
              `${index + 1}. ${item.name} (${item.quantity}×) - ${rupiah(item.price * item.quantity)}`
          )
          .join("\n");

        const total = state.cart.reduce(
          (acc, item) => acc + item.product.price * item.quantity,
          0
        );

        const messageLines = [
          "Bila Coffee • Pemesanan",
          `Nama: ${customerName}`,
          "Menu:",
          rows,
          `Total: ${rupiah(total)}`,
          notes ? `Catatan: ${notes}` : undefined,
          "Mohon konfirmasi jika pesanan sudah diterima."
        ].filter(Boolean);

        const whatsappUrl = `https://wa.me/${ADMIN_PHONE}?text=${encodeURIComponent(
          messageLines.join("\n")
        )}`;

        const order = createOrder({ customerName, notes, items, total });
        state.orders.push(order);
        saveOrdersToStorage(state.orders);
        renderOrdersTable();
        renderDashboardMetrics();

        openReceiptWindow(order);
        window.open(whatsappUrl, "_blank", "noopener,noreferrer");

        showToast("Pesanan terkirim dan struk siap dicetak");

        state.cart = [];
        saveCartToStorage(state.cart);
        renderCart();
        customerNameInput.value = "";
        orderNotesInput.value = "";
      }

      checkoutBtn.addEventListener("click", handleCheckout);

      if (searchInputEl) {
        searchInputEl.addEventListener("input", (event) => {
          state.searchTerm = event.target.value;
          renderCategories();
          renderProducts();
        });
      }

      if (clearSearchEl) {
        clearSearchEl.addEventListener("click", () => {
          state.searchTerm = "";
          renderCategories();
          renderProducts();
          showToast("Pencarian direset");
        });
      }

      if (customerNameInput) {
        customerNameInput.addEventListener("input", () => {
          customerNameInput.classList.remove("input-error");
        });
      }

      ordersBodyEl.addEventListener("change", (event) => {
        const target = event.target;
        if (target.matches(".status-select")) {
          const orderId = target.dataset.orderId;
          const newStatus = target.value;
          const order = state.orders.find((item) => item.id === orderId);
          if (!order) return;

          order.status = newStatus;
          saveOrdersToStorage(state.orders);
          renderOrdersTable();
          renderDashboardMetrics();
          showToast(`Status pesanan diperbarui menjadi ${newStatus}`);
        }
      });

      function renderFeaturedProducts() {
        const container = document.getElementById("featured-products");
        if (!container) return;

        const fragment = document.createDocumentFragment();

        featuredProducts.forEach((item) => {
          const card = document.createElement("article");
          card.className = "menu-card";

          const image = document.createElement("img");
          image.src = item.image;
          image.alt = `Foto ${item.name}`;
          image.loading = "lazy";

          const body = document.createElement("div");

          const title = document.createElement("h3");
          title.textContent = item.name;

          const desc = document.createElement("p");
          desc.textContent = item.description;

          const price = document.createElement("span");
          price.className = "menu-price";
          price.textContent = rupiah(item.price);

          const button = document.createElement("button");
          button.type = "button";
          button.textContent = "Tambah ke Keranjang";
          button.style.cssText = "margin-top:16px; padding:10px 18px; border-radius:999px; border:none; background:var(--brand); color:white; font-weight:600; cursor:pointer; box-shadow:0 14px 24px rgba(184,116,70,0.25);";
          button.addEventListener("click", () => {
            const matchingProduct = products.find((product) => product.name === item.name);
            if (matchingProduct) {
              addToCart(matchingProduct);
              showToast(`${matchingProduct.name} ditambahkan ke keranjang`);
            } else {
              showToast("Produk ini belum tersedia di daftar menu utama");
            }
          });

          body.append(title, desc, price, button);
          card.append(image, body);
          fragment.appendChild(card);
        });

        container.innerHTML = "";
        container.appendChild(fragment);
      }

      function renderPriceList() {
        const container = document.getElementById("price-list-container");
        if (!container) return;

        const categoryMap = {};
        products.forEach((product) => {
          if (!categoryMap[product.category]) {
            categoryMap[product.category] = [];
          }
          categoryMap[product.category].push(product);
        });

        const fragment = document.createDocumentFragment();

        Object.entries(categoryMap).forEach(([category, items]) => {
          const section = document.createElement("div");
          section.className = "price-category-section";

          const title = document.createElement("h4");
          title.className = "price-category-title";
          title.textContent = category.replace(/-/g, " ");

          section.appendChild(title);

          items.forEach((product) => {
            const item = document.createElement("div");
            item.className = "price-item";

            const name = document.createElement("span");
            name.className = "price-item-name";
            name.textContent = product.name;

            const price = document.createElement("span");
            price.className = "price-item-price";
            price.textContent = rupiah(product.price);

            item.append(name, price);
            section.appendChild(item);
          });

          fragment.appendChild(section);
        });

        container.innerHTML = "";
        container.appendChild(fragment);
      }

      renderCategories();
      renderProducts();
      renderCart();
      renderOrdersTable();
      renderDashboardMetrics();
      renderFeaturedProducts();
      renderPriceList();
    </script>
  </body>
</html>
